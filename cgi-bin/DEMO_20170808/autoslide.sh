#!/bin/bash

#file=/home/mangel/Documentos/DATOS/DOCS/TESTPROYECTO/GPS/DEMO/gpstest.txt
file=/usr/lib/cgi-bin/DEMO/gpstest.txt
fake="\$GPRMC,220516,A,02036.29993,N,10320.71772,W,173.8,231.8,130694,004.2,W*70"
curr="\$GPWPL,5128.62,N,00027.58,W,EGLL*59\n\$GPXTE,A,A,4.07,L,N*6D\$PGRME,15.0,M,45.0,M,25.0,M*22\n\$GPBWC,081837,,,,,,T,,M,,N,*13\n\$GPGLL,4916.45,N,12311.12,W,225444,A\n\$GPGSA,A,3,19,28,14,18,27,22,31,39,,,,,1.7,1.0,1.3*35\n\$GPGSV,3,3,11,22,42,067,42,24,14,311,43,27,05,244,00,,,,*4D\n\
$GPR00,EGLL,EGLM,EGTB,EGUB,EGTK,MBOT,EGTB,,,,,,,*58\n\$GPBWC,081837,,,,,,T,,M,,N,*13\n\$GPGLL,4916.45,N,12311.12,W,225444,A\n\$GPGSA,A,3,19,28,14,18,27,22,31,39,,,,,1.7,1.0,1.3*35\n\$GPGSV,3,3,11,22,42,067,42,24,14,311,43,27,05,244,00,,,,*4D\n\$GPR00,EGLL,EGLM,EGTB,EGUB,EGTK,MBOT,EGTB,,,,,,,*58
\n\$GPBWC,081837,,,,,,T,,M,,N,*13\n\$GPGLL,4916.45,N,12311.12,W,225444,A\n\$GPGSA,A,3,19,28,14,18,27,22,31,39,,,,,1.7,1.0,1.3*35\n\$GPGSV,3,3,11,22,42,067,42,24,14,311,43,27,05,244,00,,,,*4D\n\$GPR00,EGLL,EGLM,EGTB,EGUB,EGTK,MBOT,EGTB,,,,,,,*58\n\$GPBWC,081837,,,,,,T,,M,,N,*13\n\$GPGLL,4916.45,N,12311.12,W,225444,A\n\$GPGSA,A,3,19,28,14,18,27,22,31,39,,,,,1.7,1.0,1.3*35\n\$GPGSV,3,3,11,22,42,067,42,24,14,311,43,27,05,244,00,,,,*4D\n\$GPR00,EGLL,EGLM,EGTB,EGUB,EGTK,MBOT,EGTB,,,,,,,*58\n\$GPVTG,360.0,T,348.7,M,000.0,N,000.0,K*43"

list=("\$GPRMC,220516,A,02043.434,N,10317.553,W,173.8,231.8,130694,004.2,W*67"
      "\$GPRMC,220516,A,02042.770,N,10317.826,W,173.8,231.8,130694,004.2,W*68"
      "\$GPRMC,220516,A,02042.382,N,10317.756,W,173.8,231.8,130694,004.2,W*69"
      "\$GPRMC,220516,A,02041.805,N,10317.666,W,173.8,231.8,130694,004.2,W*70"
      "\$GPRMC,220516,A,02041.699,N,10317.665,W,173.8,231.8,130694,004.2,W*71"
      "\$GPRMC,220516,A,02041.338,N,10317.680,W,173.8,231.8,130694,004.2,W*72"
      "\$GPRMC,220516,A,02040.788,N,10317.925,W,173.8,231.8,130694,004.2,W*73"
      "\$GPRMC,220516,A,02040.452,N,10318.089,W,173.8,231.8,130694,004.2,W*74"
      "\$GPRMC,220516,A,02040.190,N,10318.338,W,173.8,231.8,130694,004.2,W*75"
      "\$GPRMC,220516,A,02039.949,N,10318.418,W,173.8,231.8,130694,004.2,W*76"
      "\$GPRMC,220516,A,02039.528,N,10318.527,W,173.8,231.8,130694,004.2,W*77"
      "\$GPRMC,220516,A,02039.081,N,10318.618,W,173.8,231.8,130694,004.2,W*78"
      "\$GPRMC,220516,A,02038.779,N,10318.673,W,173.8,231.8,130694,004.2,W*79"
      "\$GPRMC,220516,A,02038.376,N,10318.994,W,173.8,231.8,130694,004.2,W*80"
      "\$GPRMC,220516,A,02037.595,N,10319.372,W,173.8,231.8,130694,004.2,W*81"
      "\$GPRMC,220516,A,02037.093,N,10319.017,W,173.8,231.8,130694,004.2,W*82"
      "\$GPRMC,220516,A,02036.923,N,10318.384,W,173.8,231.8,130694,004.2,W*83"
      "\$GPRMC,220516,A,02036.406,N,10318.467,W,173.8,231.8,130694,004.2,W*84")

echo $fake > $file
echo -e $curr >> $file
echo "FAKE"
sleep 10
count=1
for val in ${list[*]}
do  
  echo $val > $file
  echo -e $curr >> $file 
  echo $count
  count=$(( $count + 1 ))
  sleep 12
  echo $fake > $file
  echo -e $curr >> $file 
  echo "FAKE"
  sleep 10
done

