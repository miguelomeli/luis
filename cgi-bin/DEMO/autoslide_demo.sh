#!/bin/bash

#file=/home/mangel/Documentos/DATOS/DOCS/TESTPROYECTO/GPS/DEMO/gpstest.txt
file=/usr/lib/cgi-bin/DEMO/gpstest.txt
fake="\$GPRMC,220516,A,02036.29993,N,10320.71772,W,173.8,231.8,130694,004.2,W*70"
#fake="\$GPRMC,220516,A,02035.075,N,10315.764,W,173.8,231.8,130694,004.2,W*76"
curr="\$GPWPL,5128.62,N,00027.58,W,EGLL*59\n\$GPXTE,A,A,4.07,L,N*6D\$PGRME,15.0,M,45.0,M,25.0,M*22\n\$GPBWC,081837,,,,,,T,,M,,N,*13\n\$GPGLL,4916.45,N,12311.12,W,225444,A\n\$GPGSA,A,3,19,28,14,18,27,22,31,39,,,,,1.7,1.0,1.3*35\n\$GPGSV,3,3,11,22,42,067,42,24,14,311,43,27,05,244,00,,,,*4D\n\
$GPR00,EGLL,EGLM,EGTB,EGUB,EGTK,MBOT,EGTB,,,,,,,*58\n\$GPBWC,081837,,,,,,T,,M,,N,*13\n\$GPGLL,4916.45,N,12311.12,W,225444,A\n\$GPGSA,A,3,19,28,14,18,27,22,31,39,,,,,1.7,1.0,1.3*35\n\$GPGSV,3,3,11,22,42,067,42,24,14,311,43,27,05,244,00,,,,*4D\n\$GPR00,EGLL,EGLM,EGTB,EGUB,EGTK,MBOT,EGTB,,,,,,,*58
\n\$GPBWC,081837,,,,,,T,,M,,N,*13\n\$GPGLL,4916.45,N,12311.12,W,225444,A\n\$GPGSA,A,3,19,28,14,18,27,22,31,39,,,,,1.7,1.0,1.3*35\n\$GPGSV,3,3,11,22,42,067,42,24,14,311,43,27,05,244,00,,,,*4D\n\$GPR00,EGLL,EGLM,EGTB,EGUB,EGTK,MBOT,EGTB,,,,,,,*58\n\$GPBWC,081837,,,,,,T,,M,,N,*13\n\$GPGLL,4916.45,N,12311.12,W,225444,A\n\$GPGSA,A,3,19,28,14,18,27,22,31,39,,,,,1.7,1.0,1.3*35\n\$GPGSV,3,3,11,22,42,067,42,24,14,311,43,27,05,244,00,,,,*4D\n\$GPR00,EGLL,EGLM,EGTB,EGUB,EGTK,MBOT,EGTB,,,,,,,*58\n\$GPVTG,360.0,T,348.7,M,000.0,N,000.0,K*43"

list=("\$GPRMC,220516,A,02311.203,N,10625.445,W,173.8,231.8,130694,004.2,W*61"
      "\$GPRMC,220516,A,02311.308,N,10625.250,W,173.8,231.8,130694,004.2,W*62"
      "\$GPRMC,220516,A,02311.699,N,10625.576,W,173.8,231.8,130694,004.2,W*63"
      "\$GPRMC,220516,A,02311.956,N,10625.564,W,173.8,231.8,130694,004.2,W*64"
      "\$GPRMC,220516,A,02311.988,N,10625.370,W,173.8,231.8,130694,004.2,W*65"
      "\$GPRMC,220516,A,02312.078,N,10625.294,W,173.8,231.8,130694,004.2,W*66"
      "\$GPRMC,220516,A,02312.148,N,10625.298,W,173.8,231.8,130694,004.2,W*67"
      "\$GPRMC,220516,A,02312.675,N,10625.284,W,173.8,231.8,130694,004.2,W*68"
      "\$GPRMC,220516,A,02313.622,N,10625.713,W,173.8,231.8,130694,004.2,W*69"
      "\$GPRMC,220516,A,02314.308,N,10626.712,W,173.8,231.8,130694,004.2,W*70"
      "\$GPRMC,220516,A,02315.145,N,10627.337,W,173.8,231.8,130694,004.2,W*71"
      "\$GPRMC,220516,A,02316.402,N,10627.223,W,173.8,231.8,130694,004.2,W*72"
      "\$GPRMC,220516,A,02318.399,N,10629.421,W,173.8,231.8,130694,004.2,W*73")

echo $fake > $file
echo -e $curr >> $file
echo "FAKE"
sleep 5
count=1

while true
do
  for val in ${list[*]}
  do  
    echo $val > $file
    echo -e $curr >> $file 
    echo $count
    count=$(( $count + 1 ))
    sleep 10
    echo $fake > $file
    echo -e $curr >> $file 
    echo "FAKE"
    sleep 10
  done
  count=1
done

