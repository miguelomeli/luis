#!/bin/bash

#file=/home/mangel/Documentos/DATOS/DOCS/TESTPROYECTO/GPS/DEMO/gpstest.txt
file=/usr/lib/cgi-bin/DEMO/gpstest.txt
fake="\$GPRMC,220516,A,02036.29993,N,10320.71772,W,173.8,231.8,130694,004.2,W*70"
#fake="\$GPRMC,220516,A,02035.075,N,10315.764,W,173.8,231.8,130694,004.2,W*76"
curr="\$GPWPL,5128.62,N,00027.58,W,EGLL*59\n\$GPXTE,A,A,4.07,L,N*6D\$PGRME,15.0,M,45.0,M,25.0,M*22\n\$GPBWC,081837,,,,,,T,,M,,N,*13\n\$GPGLL,4916.45,N,12311.12,W,225444,A\n\$GPGSA,A,3,19,28,14,18,27,22,31,39,,,,,1.7,1.0,1.3*35\n\$GPGSV,3,3,11,22,42,067,42,24,14,311,43,27,05,244,00,,,,*4D\n\
$GPR00,EGLL,EGLM,EGTB,EGUB,EGTK,MBOT,EGTB,,,,,,,*58\n\$GPBWC,081837,,,,,,T,,M,,N,*13\n\$GPGLL,4916.45,N,12311.12,W,225444,A\n\$GPGSA,A,3,19,28,14,18,27,22,31,39,,,,,1.7,1.0,1.3*35\n\$GPGSV,3,3,11,22,42,067,42,24,14,311,43,27,05,244,00,,,,*4D\n\$GPR00,EGLL,EGLM,EGTB,EGUB,EGTK,MBOT,EGTB,,,,,,,*58
\n\$GPBWC,081837,,,,,,T,,M,,N,*13\n\$GPGLL,4916.45,N,12311.12,W,225444,A\n\$GPGSA,A,3,19,28,14,18,27,22,31,39,,,,,1.7,1.0,1.3*35\n\$GPGSV,3,3,11,22,42,067,42,24,14,311,43,27,05,244,00,,,,*4D\n\$GPR00,EGLL,EGLM,EGTB,EGUB,EGTK,MBOT,EGTB,,,,,,,*58\n\$GPBWC,081837,,,,,,T,,M,,N,*13\n\$GPGLL,4916.45,N,12311.12,W,225444,A\n\$GPGSA,A,3,19,28,14,18,27,22,31,39,,,,,1.7,1.0,1.3*35\n\$GPGSV,3,3,11,22,42,067,42,24,14,311,43,27,05,244,00,,,,*4D\n\$GPR00,EGLL,EGLM,EGTB,EGUB,EGTK,MBOT,EGTB,,,,,,,*58\n\$GPVTG,360.0,T,348.7,M,000.0,N,000.0,K*43"

list=("\$GPRMC,220516,A,02035.075,N,10315.764,W,173.8,231.8,130694,004.2,W*61"
      "\$GPRMC,220516,A,02035.731,N,10315.770,W,173.8,231.8,130694,004.2,W*62"
      "\$GPRMC,220516,A,02036.349,N,10315.695,W,173.8,231.8,130694,004.2,W*63"
      "\$GPRMC,220516,A,02036.463,N,10316.007,W,173.8,231.8,130694,004.2,W*100"
      "\$GPRMC,220516,A,02036.621,N,10316.578,W,173.8,231.8,130694,004.2,W*64"
      "\$GPRMC,220516,A,02036.999,N,10316.951,W,173.8,231.8,130694,004.2,W*65"
      "\$GPRMC,220516,A,02038.618,N,10317.284,W,173.8,231.8,130694,004.2,W*66"
      "\$GPRMC,220516,A,02036.509,N,10317.617,W,173.8,231.8,130694,004.2,W*67"
      "\$GPRMC,220516,A,02036.525,N,10317.680,W,173.8,231.8,130694,004.2,W*100"
      "\$GPRMC,220516,A,02036.607,N,10318.260,W,173.8,231.8,130694,004.2,W*68"
      "\$GPRMC,220516,A,02036.735,N,10318.626,W,173.8,231.8,130694,004.2,W*100"
      "\$GPRMC,220516,A,02037.069,N,10318.601,W,173.8,231.8,130694,004.2,W*69"
      "\$GPRMC,220516,A,02037.200,N,10319.286,W,173.8,231.8,130694,004.2,W*70"
      "\$GPRMC,220516,A,02037.621,N,10319.230,W,173.8,231.8,130694,004.2,W*100"
      "\$GPRMC,220516,A,02037.961,N,10319.091,W,173.8,231.8,130694,004.2,W*71"
      "\$GPRMC,220516,A,02038.486,N,10318.951,W,173.8,231.8,130694,004.2,W*72"
      "\$GPRMC,220516,A,02038.768,N,10319.226,W,173.8,231.8,130694,004.2,W*73"
      "\$GPRMC,220516,A,02039.346,N,10319.658,W,173.8,231.8,130694,004.2,W*74"
      "\$GPRMC,220516,A,02039.648,N,10319.574,W,173.8,231.8,130694,004.2,W*75"
      "\$GPRMC,220516,A,02039.872,N,10319.543,W,173.8,231.8,130694,004.2,W*100"
      "\$GPRMC,220516,A,02040.163,N,10319.885,W,173.8,231.8,130694,004.2,W*76"
      "\$GPRMC,220516,A,02040.265,N,10320.153,W,173.8,231.8,130694,004.2,W*100"
      "\$GPRMC,220516,A,02040.166,N,10318.881,W,173.8,231.8,130694,004.2,W*77"
      "\$GPRMC,220516,A,02040.385,N,10320.574,W,173.8,231.8,130694,004.2,W*78"

      "\$GPRMC,220516,A,02040.360,N,10320.832,W,173.8,231.8,130694,004.2,W*80"
      "\$GPRMC,220516,A,02039.836,N,10320.962,W,173.8,231.8,130694,004.2,W*100"
      "\$GPRMC,220516,A,02039.755,N,10320.746,W,173.8,231.8,130694,004.2,W*81"
      "\$GPRMC,220516,A,02039.528,N,10320.740,W,173.8,231.8,130694,004.2,W*82"
      "\$GPRMC,220516,A,02038.951,N,10320.461,W,173.8,231.8,130694,004.2,W*83"
      "\$GPRMC,220516,A,02038.155,N,10319.851,W,173.8,231.8,130694,004.2,W*100"
      "\$GPRMC,220516,A,02037.615,N,10319.359,W,173.8,231.8,130694,004.2,W*84"
      "\$GPRMC,220516,A,02037.015,N,10319.198,W,173.8,231.8,130694,004.2,W*85"
      "\$GPRMC,220516,A,02037.091,N,10318.994,W,173.8,231.8,130694,004.2,W*100"
      "\$GPRMC,220516,A,02037.012,N,10318.565,W,173.8,231.8,130694,004.2,W*100"
      "\$GPRMC,220516,A,02036.604,N,10318.662,W,173.8,231.8,130694,004.2,W*86"
      "\$GPRMC,220516,A,02036.658,N,10318.029,W,173.8,231.8,130694,004.2,W*87"
      "\$GPRMC,220516,A,02036.605,N,10317.513,W,173.8,231.8,130694,004.2,W*100"
      "\$GPRMC,220516,A,02036.829,N,10317.302,W,173.8,231.8,130694,004.2,W*88"
      "\$GPRMC,220516,A,02036.618,N,10316.734,W,173.8,231.8,130694,004.2,W*89"
      "\$GPRMC,220516,A,02036.579,N,10316.447,W,173.8,231.8,130694,004.2,W*90"
      "\$GPRMC,220516,A,02035.731,N,10315.770,W,173.8,231.8,130694,004.2,W*91"
      "\$GPRMC,220516,A,02035.075,N,10315.764,W,173.8,231.8,130694,004.2,W*92")

echo $fake > $file
echo -e $curr >> $file
echo "FAKE"
sleep 5
count=1

while true
do
  for val in ${list[*]}
  do  
    echo $val > $file
    echo -e $curr >> $file 
    echo $count
    count=$(( $count + 1 ))
    sleep 22
    echo $fake > $file
    echo -e $curr >> $file 
    echo "FAKE"
    sleep 10
  done
  count=1
done

